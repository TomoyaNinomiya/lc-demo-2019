<!DOCTYPE html>
<html class="is-archiveFigureCovered" lang="zh-cn">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src="/assets/js/lib.js"></script>
    <script src="/assets/js/common.js"></script>
    <link rel="stylesheet" href="/assets/css/style.css"/>
    <title>编辑评价 | LC E-SHOP</title>
  </head>
  <body class="lc-root"><a id="top"></a>
    <header class="l-header">
      <nav class="l-navi only-sp">
        <ul class="l-navi__list">
          <li class="l-navi__item">
            <button class="l-navi__button js-lc--openModal" aria-controls="modalLangCurrency" aria-haspopup="true"><i class="l-navi__icon lc-icon--globe"></i><span class="l-navi__label">简体中文 / CNY</span></button>
          </li>
        </ul>
      </nav>
      <nav class="l-navi">
        <ul class="l-navi__list">
          <li class="l-navi__item only-pc">
            <button class="l-navi__button js-lc--openModal" type="button" aria-controls="modalLangCurrency" aria-haspopup="true"><i class="l-navi__icon lc-icon--globe"></i><span class="l-navi__label">简体中文 / CNY</span></button>
          </li>
          <li class="l-navi__item"><a class="l-navi__button" href="/ec/consumer/history/"><i class="l-navi__icon lc-icon--user"></i><span class="l-navi__label">我的帳戶</span></a>
          </li>
        </ul>
      </nav>
    </header>
    <div class="lc-modal" id="modalLangCurrency">
      <div class="lc-modal__bg js-lc--closeModal"></div>
      <div class="lc-modal__body">
        <h3 class="lc-modal__title">语言・币种设置</h3>
        <dl class="lc-selectModalSettings">
          <div class="lc-selectModalSettings__item">
            <dt class="lc-selectModalSettings__label">语言</dt>
            <dd class="lc-selectModalSettings__detail">
              <div class="lc-selectBox">
                <select class="lc-selectBox__select js-lc--selectLanguage">
                  <option value="1">簡体中文</option>
                </select>
              </div>
            </dd>
          </div>
          <div class="lc-selectModalSettings__item">
            <dt class="lc-selectModalSettings__label">币种</dt>
            <dd class="lc-selectModalSettings__detail">
              <div class="lc-selectBox">
                <select class="lc-selectBox__select js-lc--selectCurrency">
                  <option value="1">CNY</option>
                </select>
              </div>
            </dd>
          </div>
        </dl>
        <p class="lc-modal__buttons">
          <button class="lc-button--submit js-lc--changeLangCurrency" type="button"><span class="lc-button__label">保存更改</span><i class="lc-button__icon lc-icon--check"></i></button>
          <button class="lc-button--cancel js-lc--closeModal" type="button"><i class="lc-button__icon lc-icon--close"></i><span class="lc-button__label">取消</span></button>
        </p>
      </div>
      <script>
        $(function () {
          $('.js-lc--changeLangCurrency').on('click', function () {
            var language = $('.js-lc--selectLanguage').val();
            var currency = $('.js-lc--selectCurrency').val();
            location.reload();
          })
        });
      </script>
    </div>
    <main class="l-main">
      <section class="lc-contentSection">
        <h1 class="lc-contentSection__title lc-contentSection__title--center">编辑评价</h1>
        <div class="lc-contentsInner">
          <header class="lc-productInfo">
            <figure class="lc-productInfo__figure"><a class="lc-productInfo__figure__inner" href="/product/1/"><img src="/assets/img/img_product_01.jpg" alt="product name"/></a></figure>
            <div class="lc-productInfo__text">
              <h2 class="lc-productInfo__name"><a href="/product/1/">小熊夏季新款女装可爱卡通短袖t恤宽松韩版半袖</a></h2>
              <div class="lc-productInfo__detail">
                <dl class="lc-productInfo__detail__list">
                  <div class="lc-productInfo__detail__item">
                    <dt class="lc-productInfo__detail__label">价格</dt>
                    <dd class="lc-productInfo__detail__detail">159.00CNY<small>(2,393JPY)</small></dd>
                  </div>
                </dl>
              </div>
            </div>
          </header>
          <form action="/ec/consumer/review_list/">
            <ul class="lc-form">
              <li class="lc-form__item">
                <label class="lc-form__label lc-form__label--half">
                  <h4 class="lc-form__title is-required">昵称</h4>
                  <p class="lc-form__detail">
                    <input type="text"/>
                  </p>
                </label>
              </li>
              <li class="lc-form__item">
                <label class="lc-form__label lc-form__label--plain">
                  <h4 class="lc-form__title is-required">汇率</h4>
                  <div class="lc-form__detail lc-form__detail--stars">
                    <input class="js-lc--reviewStarsInput" type="hidden"/>
                    <p class="lc-reviewStars lc-reviewStars--large js-lc--changeReviewStars" data-grade="10"><span></span><span></span><span></span><span></span><span></span>
                    </p>
                    <p class="lc-reviewStars__number js-lc--reviewStarsNumber">5</p>
                  </div>
                </label>
              </li>
              <li class="lc-form__item">
                <label class="lc-form__label">
                  <h4 class="lc-form__title is-required">题目</h4>
                  <p class="lc-form__detail">
                    <input type="text"/>
                  </p>
                </label>
              </li>
              <li class="lc-form__item">
                <label class="lc-form__label">
                  <h4 class="lc-form__title is-required">内容</h4>
                  <p class="lc-form__detail">
                    <textarea rows="5"></textarea>
                  </p>
                </label>
              </li>
            </ul>
            <p class="lc-modal__buttons">
              <button class="lc-button--submit" type="submit"><span class="lc-button__label">登入</span><i class="lc-button__icon lc-icon--check"></i></button><a class="lc-button--cancel" href="/ec/consumer/review_list/"><i class="lc-button__icon lc-icon--arrowLeft"></i><span class="lc-button__label">返回</span></a>
            </p>
          </form>
        </div>
        <nav class="lc-mypageNavi">
          <h2 class="lc-mypageNavi__title">个人主页菜单</h2>
          <ul class="lc-mypageNavi__list">
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/history/"><span class="lc-button__label">购买记录</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/point_history/"><span class="lc-button__label">积分纪录</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/favorite_list/"><span class="lc-button__label">我的最爱一览</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/review_list/"><span class="lc-button__label">评价一览</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
          </ul>
          <h3 class="lc-mypageNavi__subTitle">顾客信息</h3>
          <ul class="lc-mypageNavi__list">
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/edit/"><span class="lc-button__label">修改注册资料</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/address/list/"><span class="lc-button__label">送货地址</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/card/add/"><span class="lc-button__label">信用卡信息确认</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
            <li class="lc-mypageNavi__item"><a href="/"><span class="lc-button__label">登出</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
            <li class="lc-mypageNavi__item"><a href="/ec/consumer/withdraw/"><span class="lc-button__label">取消会员</span><i class="lc-button__icon lc-icon--arrowRight"></i></a></li>
          </ul>
        </nav>
        <script>
          /**
            * -------------------------------
            * レビューの星 変更
            */
          $(function () {
            var $reviewStars = $('.js-lc--changeReviewStars');
            $reviewStars.each(function () {
              var $reviewStar = $(this);
              var $reviewStarsNumber = $reviewStar.next('.js-lc--reviewStarsNumber');
              var $reviewStarsInput = $reviewStar.prev('.js-lc--reviewStarsInput');
              var currentReviewGrade = $reviewStar.data('grade');
              $reviewStar
                .on('mouseenter', function (e) {
                  $reviewStar.addClass('is-changing');
                })
                .on('mouseleave', function (e) {
                  $reviewStar.removeClass('is-changing');
                  $reviewStar.attr('data-grade', currentReviewGrade);
                  $reviewStarsNumber.text(currentReviewGrade / 2);
                })
              $reviewStar.children('span')
                .on('mousemove', function (e) {
                  var index = $reviewStar.children('span').index(this) + 1;
                  var x = e.pageX - this.getBoundingClientRect().left + window.pageXOffset;
                  var isFull = (x / $(this).width() > 0.5) ? true : false;
                  var reviewGrade = isFull ? index * 2 : index * 2 - 1;
                  $reviewStar.attr('data-grade', reviewGrade);
                  $reviewStarsNumber.text(reviewGrade / 2);
                })
                .on('click', function (e) {
                  var index = $reviewStar.children('span').index(this) + 1;
                  var x = e.pageX - this.getBoundingClientRect().left + window.pageXOffset;
                  var isFull = (x / $(this).width() > 0.5) ? true : false;
                  var reviewGrade = isFull ? index * 2 : index * 2 - 1;
                  $reviewStar.attr('data-grade', reviewGrade);
                  currentReviewGrade = reviewGrade;
                  $reviewStarsNumber.text(currentReviewGrade / 2);
                  $reviewStarsInput.val(currentReviewGrade);
                });
            });
          });
        </script>
      </section>
    </main>
    <footer class="l-footer">
      <p class="l-footer__pagetop"><a class="js-scroll" href="#top"><span class="l-footer__pagetop__icon"></span></a></p>
      <p class="l-footer__copyright"><small>&copy; 2019 Sterfield Co., Ltd.</small></p>
    </footer>
    <script>
      $(function () {
        var $window = $(window);
      
        //==========================================================
        // Modal
        //==========================================================
        $('.js-lc--openModal').on('click', function() {
          var $trigger = $(this);
          $('#' + $trigger.attr('aria-controls')).addClass('is-active');
          $('#' + $trigger.attr('aria-controls')).find('.lc-modal__body').css({
            top: ($window.scrollTop() + 60) + 'px'
          });
          return false;
        })
        $('.js-lc--closeModal').on('click', function () {
          $('.lc-modal').removeClass('is-active');
        })
      
        //==========================================================
        // Tab
        //==========================================================
        if ($('.lc-tab[role="application"]').length) {
          $('.lc-tab[role="application"]').each(function () {
            var $wrapper = $(this);
            var $tab = $wrapper.find('.lc-tab__tab');
            var $tabPanel = $wrapper.find('.lc-tab__panel');
            $tab.on('click', function () {
              var $currentTab = $(this);
              $tab.removeClass('is-active');
              $tabPanel.removeClass('is-active');
              $currentTab.addClass('is-active');
              $('#' + $currentTab.attr('aria-controls')).addClass('is-active');
            })
          })
        }
      
        //==========================================================
        // Forms
        //==========================================================
        var $form__items = $('.lc-form__item');
        if ($form__items.length) {
          $form__items.each(function (index, form__item) {
            var $form__item = $(form__item);
            var $label = $form__item.find('.lc-form__label');
            var $input = $form__item.find('input, select, textarea');
            $label.filter(':has(.error)').addClass('is-errored');
            $input.on('focus', function () {
              $label.addClass('is-focused');
            }).on('blur', function () {
              $label.removeClass('is-focused');
            })
          })
        }
      });
    </script>
  </body>
</html>